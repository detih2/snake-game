# 🐍 План проекта: Snake Game

## Git Workflow
**Режим:** Pet Project (1 разработчик, коммитим напрямую в main)

---

## Фаза 0: Подготовка ✅
- [x] Инициализировать структуру проекта
- [x] Создать .gitignore, .env.example, .flake8
- [x] Изучить dev-playbook.md
- [ ] Создать .cursorrules
- [ ] Инициализировать Git репозиторий
- [ ] Написать README

---

## Фаза 1: Backend (Python + FastAPI + SQLite)

### Что такое Backend?
**Backend** — это "серверная часть" приложения. Она работает "за кулисами" и отвечает за:
- Хранение данных (результаты игр, рекорды)
- Бизнес-логику (подсчёт очков, валидация)
- Предоставление данных frontend'у через API

### Задачи:
- [ ] Настроить FastAPI проект
- [ ] Создать SQLite базу данных
- [ ] Создать модели данных (GameResult, Leaderboard)
- [ ] Создать API endpoints:
  - `POST /api/game/result` — сохранить результат игры
  - `GET /api/leaderboard` — получить таблицу лидеров
  - `GET /api/stats` — статистика игрока
- [ ] Настроить CORS (чтобы frontend мог обращаться к backend)

### Технологии:
- **FastAPI** — современный Python фреймворк для создания API (быстрый, простой)
- **SQLite** — база данных в одном файле (не нужен отдельный сервер)
- **SQLAlchemy** — библиотека для работы с БД из Python
- **Pydantic** — валидация данных

---

## Фаза 2: Frontend (React)

### Что такое Frontend?
**Frontend** — это то, что пользователь видит в браузере:
- Игровое поле
- Кнопки, меню
- Анимации
- Визуальные эффекты

### Задачи:
- [ ] Создать React приложение
- [ ] Реализовать игровую логику змейки
- [ ] Создать красивый UI:
  - Главное меню
  - Игровое поле
  - Счёт и рекорд
  - Game Over экран
  - Таблица лидеров
- [ ] Добавить анимации (CSS + React)
- [ ] Добавить звуковые эффекты
- [ ] Интегрировать с Backend API

### Технологии:
- **React** — библиотека для создания UI (используется в Facebook, Instagram)
- **Vite** — сборщик проекта (быстрее чем create-react-app)
- **CSS Modules** — стили для компонентов
- **Framer Motion** — библиотека анимаций

---

## Фаза 3: Интеграция и тестирование
- [ ] Проверить работу frontend + backend
- [ ] Тестирование игровой механики
- [ ] Финальная полировка UI/UX

---

## Архитектура

```
┌─────────────────────────────────────────────────────────────┐
│                        БРАУЗЕР                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │              FRONTEND (React)                         │  │
│  │  ┌─────────────┐  ┌──────────────┐  ┌─────────────┐  │  │
│  │  │   Игровое   │  │    Меню      │  │  Таблица    │  │  │
│  │  │    поле     │  │   Настройки  │  │  лидеров    │  │  │
│  │  └─────────────┘  └──────────────┘  └─────────────┘  │  │
│  └───────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
                              │
                              │ HTTP запросы (API)
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    BACKEND (FastAPI)                        │
│  ┌───────────────────────────────────────────────────────┐  │
│  │                    API Endpoints                       │  │
│  │   POST /api/game/result    GET /api/leaderboard       │  │
│  │   GET /api/stats                                       │  │
│  └───────────────────────────────────────────────────────┘  │
│                              │                              │
│                              ▼                              │
│  ┌───────────────────────────────────────────────────────┐  │
│  │                  SQLite Database                       │  │
│  │   game_results: id, score, duration, created_at       │  │
│  └───────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

---

## Структура папок

```
projectsnake/
├── backend/                    # 🐍 Python Backend
│   ├── app/
│   │   ├── __init__.py
│   │   ├── main.py            # Точка входа FastAPI
│   │   ├── database.py        # Настройка SQLite
│   │   ├── models.py          # Модели БД
│   │   ├── schemas.py         # Pydantic схемы
│   │   └── routers/
│   │       ├── __init__.py
│   │       ├── game.py        # API игры
│   │       └── leaderboard.py # API таблицы лидеров
│   ├── settings.py            # Pydantic Settings
│   ├── requirements.txt       # Python зависимости
│   └── snake.db               # SQLite база (создаётся автоматически)
│
├── frontend/                   # ⚛️ React Frontend
│   ├── src/
│   │   ├── components/        # React компоненты
│   │   │   ├── Game/
│   │   │   ├── Menu/
│   │   │   ├── Leaderboard/
│   │   │   └── GameOver/
│   │   ├── hooks/             # Кастомные хуки
│   │   ├── services/          # API клиент
│   │   ├── styles/            # CSS стили
│   │   ├── sounds/            # Звуковые файлы
│   │   ├── App.jsx
│   │   └── main.jsx
│   ├── package.json           # Node.js зависимости
│   └── vite.config.js         # Конфиг сборщика
│
├── Docs/                       # Документация
├── .cursorrules               # Правила для AI
├── .gitignore
├── .flake8
└── README.md
```

---

## Как запускать локально

### 1. Backend (терминал 1)
```bash
cd backend
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
uvicorn app.main:app --reload --port 8000
```
Backend будет доступен: http://localhost:8000

### 2. Frontend (терминал 2)
```bash
cd frontend
npm install
npm run dev
```
Frontend будет доступен: http://localhost:5173

### 3. Играть!
Открыть http://localhost:5173 в браузере 🎮
